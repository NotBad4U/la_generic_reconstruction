\documentclass[runningheads]{llncs}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{mathtools}
\usepackage[dvipsnames]{xcolor}
\usepackage{wasysym}
\usepackage{annotate-equations}
\usepackage{quiver}
\usepackage{cleveref}
\usepackage{ebproof}
\usepackage[T1]{fontenc}
\usepackage{wasysym}

% comments with
% https://mirror.ox.ac.uk/sites/ctan.org/macros/latex/contrib/todonotes/todonotes.pdf
\usepackage[colorinlistoftodos]{todonotes}


%%%% configuration and new commands  %%%%
\input{commands}
\input{listing-config}

\begin{document}

% \title{Verifying SMT-Based Linear Integer Arithmetic in Lambdapi}
\title{SMT Linear Integer Arithmetic proof checking in Lambdapi}

% \titlerunning{Verification of LIA proof with Lambdapi}

\author{Coltellacci Alessio\inst{1}\orcidID{0009-0005-3580-2075}
% \and
}
%
\authorrunning{Coltellacci A.}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{University of Lorraine, CNRS, Inria, LORIA
Nancy \email{alessio.coltellacci@inria.fr}}

% \institute{University of Lorraine, CNRS, Inria, LORIA \and
% Nancy
% \email{alessio.coltellacci@inria.fr}\\
% \url{http://www.springer.com/gp/computer-science/lncs} \and
% ABC Institute, Rupert-Karls-University Heidelberg, Heidelberg, Germany\\
% \email{\{abc,lncs\}@uni-heidelberg.de}}
%
\maketitle
%
\begin{abstract}
Modern SMT solvers can generate proofs of unsatisfiability to ensure correctness independently of their implementation.
A dependable approach to verify these proofs is to reconstruct them within a proof assistant.
In previous work, the SMT checker Carcara was extended to reconstruct SMT proofs in Lambdapi â€” a proof assistant designed for interoperability,
supporting the import and export of proofs for integration with other proof assistants such as Rocq, Lean, or HOL-Light.
Nevertheless, that work was limited to non-arithmetic fragments. In this paper, we present an extension that enables the reconstruction, and thus independant verification of SMT proofs involving linear integer arithmetic.

\keywords{SMT \and Alethe \and LIA \and Lambdapi \and normal form \and Proof by Reflection}
\end{abstract}

\section{Introduction}

SMT solvers have become capable of producing proofs alongside their satisfiability results,  enabling independent verification of correctness without relying on the solver's implementation.
This development addresses the growing need for trustworthy verification in safety-critical applications and SMT solver usage in proof assistant, where the solver cannot be assumed to be fully trusted.
The Alethe \cite{alethe,alethespec} is an established SMT proof format generated by the solvers cvc5 and veriT. In our previous work \cite{ColtellacciMD24}, we extended the Alethe proof checker and elaborator Carcara \cite{carcara} to
reconstruct Alethe SMT proofs within the Lambdapi proof assistant, thereby ensuring their validity.
Lambdapi is an interactive proof assistant based on the $\lambda\Pi$-calculus modulo rewriting, a logical framework that extends the $\lambda$-calculus with dependent types and user-defined rewrite rules.
This foundation allows Lambdapi to serve as a framework for formalizing various logical systems.
Designed with interoperability in mind, Lambdapi can import and export proofs, facilitating integration with other proof assistants such as Rocq, Lean, and HOL-Light. 

However, our prior work was limited to proofs expressed within the logic of Uninterpreted Functions (UF) and Quantifier-Free (QF) fragments. 
In the present work, we extend this approach to support the reconstruction of proof steps involving linear integer arithmetic (LIA).
When the propositional model is unsatisfiable in the theory of linear real/integer arithmetic, the solver creates a proof certificate.
The conclusion is a tautological clause of linear inequalities and equations and the justification of the step is a list of coefficients so that the linear combination is a trivially contradictory inequality after simplification (e.g., $0 \geq 1$).
Most SMT solvers, including cvc5 and veriT, use the simplex method \cite{SRI:simplex:dpllt} to handle linear arithmetic.
To verify these certificates, we implemented an automatic decision procedure based on proof by reflection \cite{reflection-origin-coq,ring-coq}.

In \cref{sec:background}, we provide an overview of Lambdapi and present the structure of Alethe proof certificates for linear arithmetic.
Then, in \cref{sec:elaboration-lia}, we describe how we leverage Carcara's elaboration process to reconstruct linear integer arithmetic steps, even when coefficient annotations are missing.
In \cref{sec:lia-reconstruction} introduces our encoding of SMT linear arithmetic within Lambdapi, while in \cref{sec:recon-lambdapi} presents an automatic decision procedure, based on proof by reflection, to verify these arithmetic steps.
An empirical evaluation of our approach is provided in \cref{sec:evaluation}. We review related work in \cref{sec:related}, and we conclude in \cref{sec:conclusion}.

\input{background}

\input{elaboration}

\input{lambdapi}

\input{lia-reconstruction}

\input{evaluation}

\section{Related work}
\label{sec:related}

\section{conclusion}
\label{sec:conclusion}

\bibliographystyle{splncs04}
\bibliography{refs}

\include{appendix}

\end{document}
